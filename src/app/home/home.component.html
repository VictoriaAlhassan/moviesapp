<!-- <ng-template *ngFor="let movie of movies"> -->
<!-- -->

<!-- <div class="carousel-item"> -->
<!-- <img src="movie.results.poster_path" alt="{{ movie.results.title }}" /> -->
<!-- <div class="carousel-caption"> -->
<!-- <h3>{{ movie.results.title }}</h3> -->
<!-- <p>{{ movie.results.overview }}</p> -->
<!-- </div> -->
<!-- </div> -->
<!-- </ng-template> -->
<div class="container-fluid" style="background-color: black">
  <div class="container" style="background-color: black">
    <div *ngIf="movieSearched && movieSearched.results.length > 0">
      <div class="row">
        <div
          *ngFor="
            let movie of movieSearched!.results
              | paginate
                : {
                    itemsPerPage: 1,
                    currentPage: pageNumber,
                    totalItems: movieSearched.results.length
                  }
          "
          class="col-xl-2 col-lg-3 col-md-4 col-xs-offset-1 data-div"
        >
          <app-movie-item [movie]="movie"></app-movie-item>
        </div>
        <div>
          <pagination-controls
            previousLabel="prev"
            nextLabel="next"
            (pageChange)="(movieSearched.results)"
          >
          </pagination-controls>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="container-fluid" style="background-color: black">
  <div *ngIf="resultsLength < 1">
    <ngb-carousel *ngIf="movieList">
      <ng-template
        ngbSlide
        *ngFor="let movie of movieList.results | slice : 6 : 12"
      >
        <div class="picsum-img-wrapper" style="background-color: black">
          <img
            style="width: 100%; height: 80%"
            src="https://image.tmdb.org/t/p/w500/{{ movie.backdrop_path }}"
            alt="Random slide"
          />
        </div>
        <div class="carousel-caption">
          <h3>{{ movie.title }}</h3>
          <p>{{ movie.overview }}</p>
        </div>
      </ng-template>
    </ngb-carousel>

    <div class="container" style="background-color: black">
      <div *ngIf="movies" class="wrapper" else no_result>
        <div class="row">
          <div style="display: flex">
            <div>
              <h3 style="color: white; border-bottom: 5px snow white">
                Recommended
              </h3>
            </div>
            <div style="margin: 0 7px 0 25px">
              <button (click)="getMovies()" style="border-radius: 5px">
                Movies
              </button>
            </div>
            <div>
              <button (click)="getTvShows()" style="border-radius: 5px">
                TV Shows
              </button>
            </div>
          </div>
          <div class="container" style="background-color: black">
            <div class="row">
              <div
                *ngFor="let movie of movies.results | slice : 0 : 20"
                class="col-xl-2 col-lg-3 col-md-4 col-xs-offset-1 data-div"
              >
                <app-movie-item
                  [movie]="movie"
                  (itemClick)="onItemClick($event)"
                >
                </app-movie-item>
                <!-- <div style="padding: 10px 0px; width: 100%"> -->
                <!-- <a routerLink="/detail/{{ movie.id }}"> -->
                <!-- <img -->
                <!-- style=" -->
                <!-- /* height: 240px; */ /* width: 100%; */ /* object-fit: cover; */ -->
                <!-- /* border-radius: 5px; */ /* " */ -->
                <!-- src="https://image.tmdb.org/t/p/w500/{{ -->
                <!-- movie.poster_path -->
                <!-- }}" -->
                <!-- alt="poster" -->
                <!-- class="img img-responsive" -->
                <!-- (click)="onItemClick(movie.id)" -->
                <!-- /> -->
                <!-- <div class="movie-list-descrip" style="color: white"> -->
                <!-- <h6>{{ movie.title | slice : 0 : 24 }}</h6> -->
                <!-- <span> -->
                <!-- {{ movie.release_date | date : "y" }} |votes -->
                <!-- {{ movie.vote_count }}</span -->
                <!-- > -->
                <!-- </div> -->
                <!-- </a> -->
                <!-- </div> -->
                <!-- </div> -->
              </div>
            </div>
            <div style="display: flex; justify-content: end">
              <button
                (click)="viewAll()"
                style="
                  background-color: transparent;
                  color: blue;
                  border: 1px solid blue;
                  padding: 5px 20px 5px 10px;
                  border-radius: 5px;
                "
              >
                View All
              </button>
            </div>
          </div>
          <!-- <div -->
          <!-- *ngFor="let tv of tvShows.results | slice : 0 : 20" -->
          <!-- class="col-xl-2 col-lg-3 col-md-4 col-xs-offset-1 data-div" -->
          <!-- > -->
          <!-- <div style="padding: 10px 0px; width: 100%"> -->
          <!-- <a routerLink="/detail/{{ movie.id }}"> -->
          <!-- <img -->
          <!-- style="height: 240px; width: 100%; object-fit: cover" -->
          <!-- src="https://image.tmdb.org/t/p/w500/{{ tv.poster_path }}" -->
          <!-- alt="poster" -->
          <!-- class="img img-responsive" -->
          <!-- (click)="onItemClick(tv.id)" -->
          <!-- /> -->
          <!-- <div class="movie-list-descrip"> -->
          <!-- <span> -->
          <!-- {{ tv.release_date | date : "y" }} | votes: -->
          <!-- {{ tv.vote_count }}</span -->
          <!-- > -->
          <!-- </div> -->
          <!-- </a> -->
          <!-- </div> -->
          <!-- </div> -->
        </div>
      </div>

      <ng-template #no_result>No result found</ng-template>
    </div>
  </div>
</div>
